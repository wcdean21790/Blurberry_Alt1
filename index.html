<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blurberry Screen Capture</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<div class="container">
    <h1>Blurberry Screen Capture</h1>

    <div class="button">
        <button id="nibButton">NIB</button>
        <button id="nisButton">NIS</button>
        <button id="inbButton">INB</button>
        <button id="insButton">INS</button>
    </div>
    <a>INB & INS</a>
    <span>
        <strong>Item Name</strong>
        <p id="itemName">[Name]</p>
    </span>
    <span>
        <strong>High Price</strong>
        <p id="highPrice">[HPrice]</p>
    </span>
    <span>
        <strong>Low Price</strong>
        <p id="lowPrice">[LPrice]</p>
    </span>
    <a>send</a>
    <a>reset/scan</a>
</div>

<!-- JavaScript section -->
<script>
    // Function to extract item name
    function extractItemName() {
        const itemNameRegion = document.querySelector('.item-name'); // Replace with the actual selector

        // Capture screenshot of the item name region
        html2canvas(itemNameRegion).then(canvas => {
            const itemNameScreenshot = canvas.toDataURL('image/png');

            // Perform OCR on the captured screenshot
            Tesseract.recognize(
                itemNameScreenshot,
                'eng',
                { logger: info => console.log(info) }
            ).then(({ data: { text } }) => {
                const itemName = text.trim().replace(/[^a-zA-Z ]/g, '');
                console.log(`OCR Result (Item Name): ${itemName}`);
            });
        });
    }

    // Function to simulate price extraction
    function extractPrice() {
        const priceRegion = document.querySelector('.price'); // Replace with the actual selector

        // Capture screenshot of the price region
        html2canvas(priceRegion).then(canvas => {
            const priceScreenshot = canvas.toDataURL('image/png');

            // Perform OCR on the captured screenshot
            Tesseract.recognize(
                priceScreenshot,
                'eng',
                { logger: info => console.log(info) }
            ).then(({ data: { text } }) => {
                const priceString = text.trim().replace(/\D/g, '');
                const priceInt = parseInt(priceString);
                console.log(`Price: ${priceInt}`);
            });
        });
    }

    // Add click event listeners to the buttons
    document.getElementById("nibButton").addEventListener("click", extractItemName);
    document.getElementById("nibButton").addEventListener("click", extractPrice);
</script>
</body>
</html>
